### 서로 다른 VPC환경의 instance에서 calico 오버레이 네트워크 구축시 에러
-------------------
### 발생 상황
3개의 독립된 VPC를 가진 인스턴스 끼리 클러스터를 구축 하고 join한 뒤 192.168.0.0/16의 대역을 가지는 오버레이 네트워크 구축을 시도했다가 발생한 에러
![image](https://user-images.githubusercontent.com/58390757/116781872-c033e000-aac0-11eb-8dfc-e864bd457a25.png)

--------------------
### 원인

대충 읽어보니 10.96.0.1:443으로의 i/o접근이 막혔다는 이야기 같은데 10.96.0.1은 쿠버네티스 클러스터가 구축이 됐을경우 자동 생성되는 클러스터 내부 Ip다. 
위 IP를 통해서 네트워크 구축을 진행 하는데 다른 VPC 환경에서 클러스터를 구축하니 될리가 없었다..

-----------------------
### 해결방법

고민을 엄청 하다가 기존 3개의 GCP 계정을 2개의 GCP 계정으로 줄이고 두 계정간 VPC 피어링을 진행해줬다. (3개의 계정간 피어링을 진행해도 됐으나 계정 2개로 진행해도 괜찮다고 판단함)

![image](https://user-images.githubusercontent.com/58390757/116782047-df7f3d00-aac1-11eb-9b42-fdfb4198e15d.png)
두개의 VPC를 만들고 각자 서브넷을 달리해 충돌을 방지해주고 VPC 피어링을 통해 두개의 VPC가 내부 IP를 공유할 수 있게 설정해줬다.그 후 쿠버네티스 구축을 진행하니
10.96.0.1:443으로 접근이 가능해 오버레이 네트워크 구축을 끝마쳤다.
